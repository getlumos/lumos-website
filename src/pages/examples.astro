---
import Layout from '../layouts/Layout.astro';
import NavbarAstro from '../components/NavbarAstro.astro';
import FooterAstro from '../components/FooterAstro.astro';

interface Example {
  id: string;
  title: string;
  description: string;
  iconPath: string;
  difficulty: "Beginner" | "Intermediate" | "Advanced";
  stats: {
    structs: number;
    enums: number;
    lines: number;
  };
  features: string[];
  schemaPreview: string;
  githubPath: string;
}

const examples: Example[] = [
  {
    id: "nft-marketplace",
    title: "NFT Marketplace",
    description: "Decentralized NFT marketplace with listings, sales tracking, and user profiles.",
    iconPath: "M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z",
    difficulty: "Beginner",
    stats: { structs: 5, enums: 2, lines: 91 },
    features: ["Marketplace Config", "Listings & Sales", "NFT Metadata", "Transaction History", "User Profiles"],
    schemaPreview: `#[solana]
#[account]
struct Listing {
    seller: PublicKey,
    nft_mint: PublicKey,
    price: u64,
    status: ListingStatus,
}

#[solana]
enum ListingStatus {
    Active,
    Sold,
    Cancelled,
}`,
    githubPath: "nft-marketplace",
  },
  {
    id: "defi-staking",
    title: "DeFi Staking",
    description: "Flexible staking protocol with multiple pools, tiered rewards, and lock periods.",
    iconPath: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
    difficulty: "Intermediate",
    stats: { structs: 6, enums: 3, lines: 112 },
    features: ["Multi-Pool Support", "Tiered APY", "Lock Periods", "Reward Calculation", "Pool Statistics"],
    schemaPreview: `#[solana]
#[account]
struct StakeAccount {
    owner: PublicKey,
    pool: PublicKey,
    amount: u64,
    status: StakingStatus,
}

#[solana]
enum RewardCalculationType {
    FixedAPY,
    TieredAPY { tier1_apy: u64 },
    DynamicAPY { min_apy: u64 },
}`,
    githubPath: "defi-staking",
  },
  {
    id: "dao-governance",
    title: "DAO Governance",
    description: "Comprehensive on-chain governance with proposals, voting, delegation, and timelock.",
    iconPath: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",
    difficulty: "Advanced",
    stats: { structs: 8, enums: 5, lines: 168 },
    features: ["Proposal System", "Weighted Voting", "Vote Delegation", "Timelock Execution", "Member Management"],
    schemaPreview: `#[solana]
#[account]
struct Proposal {
    id: u64,
    proposer: PublicKey,
    yes_votes: u64,
    no_votes: u64,
    status: ProposalStatus,
}

#[solana]
enum ProposalType {
    Transfer { recipient: PublicKey },
    ConfigChange { voting_period: i64 },
    AddMember { member: PublicKey },
}`,
    githubPath: "dao-governance",
  },
  {
    id: "gaming-inventory",
    title: "Gaming Inventory",
    description: "Web3 gaming system with player progression, items, crafting, and trading.",
    iconPath: "M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z",
    difficulty: "Advanced",
    stats: { structs: 8, enums: 6, lines: 167 },
    features: ["Player Progression", "Item System", "Crafting Recipes", "Trading Market", "Achievements"],
    schemaPreview: `#[solana]
#[account]
struct Player {
    wallet: PublicKey,
    level: u16,
    experience: u64,
    gold: u64,
    equipped_weapon: Option<PublicKey>,
}

#[solana]
enum Rarity {
    Common,
    Rare,
    Epic,
    Legendary,
}`,
    githubPath: "gaming-inventory",
  },
  {
    id: "token-vesting",
    title: "Token Vesting",
    description: "Token vesting system with linear vesting, cliffs, milestones, and revocation.",
    iconPath: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",
    difficulty: "Intermediate",
    stats: { structs: 8, enums: 3, lines: 155 },
    features: ["Multiple Vesting Types", "Cliff Periods", "Milestone Unlocks", "Revocation Support", "Release Tracking"],
    schemaPreview: `#[solana]
#[account]
struct VestingSchedule {
    beneficiary: PublicKey,
    vesting_type: VestingType,
    total_amount: u64,
    released_amount: u64,
}

#[solana]
enum VestingType {
    Linear,
    Cliff { cliff_duration: i64 },
    Milestone { milestones: [Milestone] },
}`,
    githubPath: "token-vesting",
  },
];

const difficultyColors = {
  Beginner: "bg-green-500/20 text-green-400 border-green-500/30",
  Intermediate: "bg-yellow-500/20 text-yellow-400 border-yellow-500/30",
  Advanced: "bg-red-500/20 text-red-400 border-red-500/30",
};
---

<Layout
  title="Examples - LUMOS"
  description="Learn LUMOS by exploring complete, production-ready schemas. NFT marketplace, DeFi staking, DAO governance, gaming inventory, and token vesting examples."
>
  <NavbarAstro slot="navbar" />

  <div class="pt-16">
    <!-- Hero Section -->
    <section class="pt-16 pb-16 px-4 sm:px-6 lg:px-8">
      <div class="container mx-auto max-w-6xl text-center">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-secondary/50 backdrop-blur-sm border border-border mb-6">
          <svg class="w-4 h-4 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
          </svg>
          <span class="text-sm text-muted-foreground">5 Production-Ready Examples</span>
        </div>
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6">
          <span class="bg-gradient-to-r from-purple-500 to-purple-400 bg-clip-text text-transparent">Real-World</span> Examples
        </h1>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto mb-8">
          Learn LUMOS by exploring complete, production-ready schemas. Each example includes
          Anchor programs, TypeScript clients, and comprehensive documentation.
        </p>
        <div class="flex flex-wrap gap-6 justify-center text-sm">
          <div class="space-y-1">
            <div class="text-2xl font-bold text-foreground">35+</div>
            <div class="text-muted-foreground">Structs</div>
          </div>
          <div class="space-y-1">
            <div class="text-2xl font-bold text-foreground">19</div>
            <div class="text-muted-foreground">Enums</div>
          </div>
          <div class="space-y-1">
            <div class="text-2xl font-bold text-foreground">693</div>
            <div class="text-muted-foreground">Lines of Schema</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Examples Grid -->
    <section class="py-16 px-4 sm:px-6 lg:px-8">
      <div class="container mx-auto max-w-6xl">
        <div class="grid gap-8">
          {examples.map((example) => (
            <div class="group bg-secondary/30 rounded-xl border border-border hover:border-primary/50 transition-all duration-300 overflow-hidden">
              <div class="grid md:grid-cols-2 gap-0">
                <!-- Info Section -->
                <div class="p-6 lg:p-8 flex flex-col">
                  <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div class="p-2 rounded-lg bg-primary/10 text-primary">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={example.iconPath} />
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-xl font-bold">{example.title}</h3>
                        <span class={`inline-block mt-1 px-2 py-0.5 text-xs font-medium rounded-full border ${difficultyColors[example.difficulty]}`}>
                          {example.difficulty}
                        </span>
                      </div>
                    </div>
                  </div>

                  <p class="text-muted-foreground mb-4">{example.description}</p>

                  <!-- Stats -->
                  <div class="flex gap-4 mb-4 text-sm">
                    <div class="flex items-center gap-1.5">
                      <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                      <span>{example.stats.structs} structs</span>
                    </div>
                    <div class="flex items-center gap-1.5">
                      <svg class="w-4 h-4 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                      </svg>
                      <span>{example.stats.enums} enums</span>
                    </div>
                    <div class="text-muted-foreground">
                      {example.stats.lines} lines
                    </div>
                  </div>

                  <!-- Features -->
                  <div class="flex flex-wrap gap-2 mb-6">
                    {example.features.map((feature) => (
                      <span class="px-2 py-1 text-xs bg-secondary rounded-md text-muted-foreground">
                        {feature}
                      </span>
                    ))}
                  </div>

                  <!-- Actions -->
                  <div class="mt-auto flex gap-3">
                    <a
                      href={`https://github.com/getlumos/awesome-lumos/tree/main/examples/${example.githubPath}`}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="inline-flex items-center justify-center rounded-lg text-sm font-medium h-9 px-4 border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-colors"
                    >
                      <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                      </svg>
                      View Source
                    </a>
                    <a
                      href={`https://github.com/getlumos/awesome-lumos/blob/main/examples/${example.githubPath}/schema`}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="inline-flex items-center justify-center rounded-lg text-sm font-medium h-9 px-4 hover:bg-accent hover:text-accent-foreground transition-colors"
                    >
                      Full Schema
                      <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                      </svg>
                    </a>
                  </div>
                </div>

                <!-- Code Preview Section -->
                <div class="bg-[#0d1117] border-l border-border p-6 lg:p-8">
                  <div class="flex items-center justify-between mb-3">
                    <span class="text-xs text-muted-foreground font-mono">schema.lumos</span>
                    <span class="text-xs text-primary/60">Preview</span>
                  </div>
                  <pre class="text-sm font-mono text-gray-300 overflow-x-auto"><code>{example.schemaPreview}</code></pre>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 px-4 sm:px-6 lg:px-8 bg-secondary/20">
      <div class="container mx-auto max-w-4xl text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to Build?</h2>
        <p class="text-muted-foreground mb-8 max-w-2xl mx-auto">
          Clone any example and start building your own Solana application with type-safe schemas.
        </p>
        <div class="bg-[#0d1117] rounded-lg p-4 max-w-xl mx-auto mb-8">
          <code class="text-sm text-gray-300">
            git clone https://github.com/getlumos/awesome-lumos.git
          </code>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="https://github.com/getlumos/awesome-lumos"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center rounded-lg text-lg font-semibold h-14 px-8 bg-primary text-primary-foreground hover:bg-primary/90 transition-colors"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            Explore on GitHub
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </a>
          <a
            href="https://docs.lumos-lang.org/guide/getting-started"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center rounded-lg text-lg font-semibold h-14 px-8 border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-colors"
          >
            Read the Docs
          </a>
        </div>
      </div>
    </section>
  </div>

  <FooterAstro slot="footer" />
</Layout>
